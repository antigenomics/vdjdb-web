<div class="ui segments">
    <h3 class="ui top attached header">
        Sample {{ sample.name }}
        <div class="sub header">Software: {{ sample.software }}</div>
    </h3>
    <div class="ui attached teal padded blurring segment">
        <intersection-table-filters [filters]="filters"></intersection-table-filters>
    </div>
    <div class="ui attached secondary clearing segment">
        <button class="ui teal button left floated" [ngClass]="{'loading':table.loading}" (click)="intersect()">Annotate</button>
    </div>
</div>
<div class="ui fade slow element segments">
    <h3 class="ui top attached header">Charts</h3>
    <div class="ui attached teal padded blurring segment" style="min-height: 200px;">
        <div class="ui inverted dimmer" [ngClass]="{'active':table.loading}">
            <div class="ui large text loader top element">{{ table.loadingLabel }}</div>
        </div>
        <h2 class="ui center aligned icon header" *ngIf="!table.dirty && !table.loading">
            <i class="table icon"></i>
            <div class="content"> Click "Annotate" button to query VDJdb</div>
            <div class="sub header">Make sure that you've selected parameters (species, etc) that match your sample metadata</div>
        </h2>
        <div *ngIf="table.dirty && table.isEmpty() && !table.error &&!table.loading">
            <h2 class="ui center aligned icon header">
                <i class="search icon"></i>
                No results found
                <div class="sub header">Perhaps you need to change the annotation parameters</div>
            </h2>
        </div>
        <div *ngIf="table.dirty && table.isEmpty() && table.error">
            <h2 class="ui center aligned icon header">
                <i class="warning sign icon"></i>
                Unable to parse sample file
                <div class="sub header">Wrong software type</div>
            </h2>
        </div>
        <div class="ui two column grid" *ngIf="table.dirty && !table.isEmpty()">
            <div class="column fade slow element" summary-chart [data]="getData()" style="height: 400px;"></div>
        </div>
    </div>
</div>