<!--suppress HtmlFormInputWithoutLabel -->
<div class="ui fluid search dropdown compact selection multiple" [ngClass]="{ 'active visible' : isSearchVisible() }" (click)="focus()">
    <i class="dropdown icon"></i>
    <a class="ui label visible" style="display: inline-block !important;" *ngFor="let entry of selected">
        {{ entry.display }}
        <i class="delete icon" (mousedown)="remove(entry)"></i>
    </a>
    <input class="search" autocomplete="off" tabindex="0" style="width: 25%"
           (focus)="onFocusIn()" (blur)="onFocusOut()" [ngModel]="inputText" (ngModelChange)="change($event)" #input>

    <span class="sizer">{{ inputText }}</span>

    <div class="default text" style="width: 90%; white-space: nowrap; overflow: hidden" [innerHTML]="placeholder" *ngIf="isPlaceholderVisible()"></div>

    <select multiple="" *ngIf="isSearchVisible()">
        <option value="" *ngFor="let value of values">
            {{ value }}
        </option>
    </select>

    <div class="menu visible fade element" tabindex="-1" style="display: block !important;" *ngIf="isSearchVisible()">
        <div class="item" *ngFor="let entry of values | autocomplete:inputText:selected" (mousedown)="append(entry)">{{ entry.display }}</div>
    </div>
</div>
<div *ngIf="isSuggestionAvailable()">
    <a class="cursor pointer" (click)="showSuggestions()" *ngIf="!isSuggestionsVisible()">Show suggestions</a>
    <a class="cursor pointer" (click)="hideSuggestions()" *ngIf="isSuggestionsVisible()">Hide suggestions</a>
    <div *ngIf="isSuggestionsVisible()">
        <div class="ui celled list" style="max-height: 150px; overflow-y: auto">
            <div class="item cursor pointer" *ngFor="let entry of visibleSuggestions" (click)="addSuggestion(entry)">
                <div class="content">
                    <div class="header">{{ entry.value }}</div>
                    {{ entry.meta }}
                </div>
            </div>
        </div>
    </div>
</div>