# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET         /                                         backend.controllers.Application.index
GET         /search                                   backend.controllers.Application.index
GET         /about                                    backend.controllers.Application.index

GET         /annotations                              backend.controllers.Application.authorizedIndex
GET         /annotations/upload                       backend.controllers.Application.authorizedIndex

GET         /temporary/:link                          backend.controllers.Application.downloadTemporaryFile(link)

# Database API
GET         /api/database/summary                     backend.controllers.DatabaseAPI.summary
GET         /api/database/meta                        backend.controllers.DatabaseAPI.meta
GET         /api/database/meta/columns/:column        backend.controllers.DatabaseAPI.columnInfo(column: String)
POST        /api/database/search                      backend.controllers.DatabaseAPI.search
GET         /api/database/connect                     backend.controllers.DatabaseAPI.connect

# Authorization API
GET         /authorization/login                      backend.controllers.Authorization.login
POST        /authorization/login                      backend.controllers.Authorization.onLogin
GET         /authorization/signup                     backend.controllers.Authorization.signup
POST        /authorization/signup                     backend.controllers.Authorization.onSignup
GET         /authorization/reset                      backend.controllers.Authorization.resetRequest
POST        /authorization/reset                      backend.controllers.Authorization.onResetRequest

GET         /authorization/reset/:token               backend.controllers.Authorization.reset(token)
POST        /authorization/reset/:token               backend.controllers.Authorization.onReset(token)

GET         /authorization/verify/:token              backend.controllers.Authorization.verifyWithToken(token)
GET         /authorization/logout                     backend.controllers.Authorization.logout

#Account API
GET         /account/details                          backend.controllers.Account.detailsPage
POST        /account/details/changePassword           backend.controllers.Account.changePassword

#Annotations API
+ nocsrf
POST        /annotations/upload                       backend.controllers.AnnotationsAPI.uploadFile

# Map static resources from the /public folder to the /assets URL path
GET         /assets/*file                             controllers.Assets.versioned(path="/public", file: Asset)

# Bundle files generated by Webpack
GET         /bundles/*file                            backend.controllers.Application.bundle(file)
